[{"C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\index.js":"1","C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\App.js":"2","C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\reportWebVitals.js":"3","C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\index.js":"4","C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\Weather\\index.js":"5","C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\Favorite\\index.js":"6","C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\Gallery\\index.js":"7","C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\Holidays.js":"8","C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\Weather\\Weather.js":"9","C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\Gallery\\Gallery.js":"10","C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\Favorite\\Favorite.js":"11"},{"size":1105,"mtime":1653898414097,"results":"12","hashOfConfig":"13"},{"size":503,"mtime":1653898414072,"results":"14","hashOfConfig":"13"},{"size":375,"mtime":1653898414097,"results":"15","hashOfConfig":"13"},{"size":64,"mtime":1653898414078,"results":"16","hashOfConfig":"13"},{"size":59,"mtime":1653898414077,"results":"17","hashOfConfig":"13"},{"size":62,"mtime":1653898414073,"results":"18","hashOfConfig":"13"},{"size":61,"mtime":1653898414074,"results":"19","hashOfConfig":"13"},{"size":4293,"mtime":1653898414075,"results":"20","hashOfConfig":"13"},{"size":473,"mtime":1653898414077,"results":"21","hashOfConfig":"13"},{"size":288,"mtime":1653898414074,"results":"22","hashOfConfig":"13"},{"size":618,"mtime":1653898768620,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1quls60",{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48"},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\index.js",[],[],"C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\App.js",[],[],"C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\reportWebVitals.js",[],[],"C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\index.js",[],[],"C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\Weather\\index.js",[],[],"C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\Favorite\\index.js",[],[],"C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\Gallery\\index.js",[],[],"C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\Holidays.js",["58"],[],"import React from 'react';\r\nimport axios from 'axios';\r\nimport { useState, useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport Gallery from './Gallery/index'\r\nimport Weather from './Weather/index'\r\nimport './Holidays.css';\r\nimport heart from '../img/heart.png'\r\nimport Favorite from './Favorite';\r\nconst countryList = require('country-list');\r\n\r\nconst Holidays = () => {\r\n  const [country, setCountry] = useState('');\r\n  const [gallery, setGallery] = useState([]);\r\n  const [latitude, setLatitude] = useState('');\r\n  const [longitude, setLongitude] = useState('');\r\n  const [weather, setWeather] = useState({});\r\n  const [showFavorite, setShowFavorite] = useState(false);\r\n  const [favList, setFavList] = useState([]);\r\n  const [btnTitle, setBtnTitle] = useState('TAKE ME THERE !');\r\n\r\n  useEffect(() => {\r\n    const favorites = localStorage.getItem('favList')||'[]'\r\n    setFavList(JSON.parse(favorites))\r\n  },[])\r\n  \r\n  useEffect(()=> {\r\n    localStorage.setItem('favList',JSON.stringify(favList))\r\n  },[favList])\r\n\r\n  const randomIntNumber = (min, max) => {\r\n    return Math.floor(Math.random() * (max - min + 1) + min)\r\n  }\r\n  const generateRandomCountry = (e) => {\r\n    e.preventDefault()\r\n    if (btnTitle === 'TAKE ME THERE !') {\r\n      setBtnTitle('TRY AGAIN !')\r\n    }\r\n    const randomInt = randomIntNumber(1, 150)\r\n    const randomCountry = countryList.getData()[randomInt].name;\r\n    setCountry(randomCountry);\r\n  }\r\n\r\n  const getGallery = () => {\r\n    const options = {\r\n        method: 'GET',\r\n        url: 'http://localhost:8080/holidays/gallery',\r\n        params: {country: country},\r\n    }\r\n    axios.request(options)\r\n    .then((response) => {\r\n      const link = response.data;\r\n      setGallery(link);\r\n    })\r\n    .catch((error) => {console.error(error)})\r\n  }\r\n\r\n  const getCountryData = () => {\r\n    const options = {\r\n        method: 'GET',\r\n        url: 'http://localhost:8080/holidays',\r\n        params: {country: country},\r\n    }\r\n    axios.request(options)\r\n    .then((response) => {\r\n      const {lon} = response.data\r\n      const {lat} = response.data\r\n      setLongitude(lon);\r\n      setLatitude(lat);\r\n    }\r\n      )\r\n    .catch((error) => {console.error(error)})\r\n  }\r\n\r\n  const getCountryWeather = () => {\r\n    const options = {\r\n        method: 'GET',\r\n        url: 'http://localhost:8080/holidays/weather',\r\n        params: {lon: longitude, lat: latitude},\r\n    }\r\n    axios.request(options)\r\n    .then((response) => {\r\n      const countryWeather = {\r\n        maxTemp: parseInt(response.data.main.temp_max - 273.15),\r\n        minTemp: parseInt(response.data.main.temp_min -273.15),\r\n        humidity: response.data.main.humidity,\r\n        sky: response.data.weather[0].main,\r\n      }\r\n      setWeather(countryWeather);\r\n    })\r\n    .catch((error) => {console.error(error)})\r\n  }\r\n\r\n  const showFav = () => {\r\n    if(showFavorite === false) {\r\n      return setShowFavorite(true)\r\n    }\r\n    return setShowFavorite(false)\r\n  }\r\n\r\n  const favoriteList = () => {\r\n    if (favList.some(fav => fav === country)){\r\n      return favList;\r\n    }\r\n    favList.splice(4);\r\n    return setFavList([...favList, country])\r\n  }\r\n\r\n  useEffect(() => {\r\n    getCountryData()\r\n    getGallery()\r\n    getCountryWeather()\r\n  },[country]);\r\n\r\n  return (\r\n    <main className='holidays'>\r\n      <header className='header'>\r\n        {country === '' ? <h1 className='header__title'>Are you ready?</h1> : null}\r\n        {country !== '' ? \r\n          <> \r\n          <img className='header__heart' src={heart} alt='heart' title='add me to FAV!' onClick={favoriteList}/>\r\n          <h2 className='header__destination'>Your holidays destination is:</h2>\r\n          <p className='header__country'>{country}</p>\r\n          <Weather weather={weather}/>\r\n          </>\r\n        : null}\r\n          <button className='header__button' onClick={generateRandomCountry}>{btnTitle}</button>\r\n          {country !== '' ? <Link to=\"favorite\"><button className='header__button--fav' onClick={showFav}>SEE FAVORITES</button></Link>: null}\r\n          {showFavorite === true? <Favorite favList={favList} setFavList={setFavList}/> : null}\r\n      </header>\r\n      <Gallery gallery={gallery} country={country} setGallery={setGallery}/>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Holidays;","C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\Weather\\Weather.js",[],[],"C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\Gallery\\Gallery.js",[],[],"C:\\Users\\Patt\\OneDrive\\Pulpit ACER\\CODE\\hackday\\hack-day\\client\\src\\components\\Favorite\\Favorite.js",[],[],{"ruleId":"59","severity":1,"message":"60","line":113,"column":5,"nodeType":"61","endLine":113,"endColumn":14,"suggestions":"62"},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getCountryData', 'getCountryWeather', and 'getGallery'. Either include them or remove the dependency array.","ArrayExpression",["63"],{"desc":"64","fix":"65"},"Update the dependencies array to be: [country, getCountryData, getCountryWeather, getGallery]",{"range":"66","text":"67"},[3265,3274],"[country, getCountryData, getCountryWeather, getGallery]"]